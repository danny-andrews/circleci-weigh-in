# Thresh CircleCI Artifact Store

## What it does

When used with thresh, this plugin uses CircleCI as a storage facility for asset diff and/or stat files. It stores them in the `$CIRCLE_ARTIFACTS/thresh/` directory.

## Required Environment Variables

- `CIRCLE_API_TOKEN` - Must have `view-builds` scope

- `CIRCLE_ARTIFACTS` - You need to define a [`store_artifacts`](https://circleci.com/docs/2.0/artifacts/) step which copies the files generated by thresh, and expose the directory you set as the `path` value for this step as `CIRCLE_ARTIFACTS` so thresh knows where to output the files. Example config file:

    ```yml
    version: 2
    jobs:
      build:
        # ...
        environment:
          - CIRCLE_ARTIFACTS: ./example/dist/artifacts
        steps:
          # ...
          - store_artifacts:
              # Wish I could use $CIRCLE_ARTIFACTS here :( (http://bit.ly/2vlqGiR)
              path: ./example/dist/artifacts
              destination: ./
    ```
